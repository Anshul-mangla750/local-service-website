<% layout('/layouts/boilerplate.ejs') -%>
<body>
  <div class="container">
    <div class="row offset-1">
      <h1>edit the deatils</h1>
    </div>
    <div class="row offset-1">
      <div class="col-8">
        <form
          action="/services/<%=service._id%>?_method=PUT"
          method="POST"
          class="needs-validation"
          novalidate
          enctype="multipart/form-data"
        >
          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              placeholder="enter the service name"
              value="<%=service.title%>"
              required
            />
            <label for="title" class="form-label">title:</label>
            <div class="invalid-feedback">
              please enter a title of the service!
            </div>
          </div>

          <div class="form-floating">
            <textarea
              class="form-control mb-3"
              placeholder="describe your service here"
              id="textarea"
              name="description"
              required
            >
<%=service.description%></textarea
            >
            <label for="textarea">description</label>
            <div class="invalid-feedback">
              give a small description about your service!
            </div>
          </div>
          <div class="mb-3">
            orignal uploaded image <br>
            
            <img src="<%=service.image.url%>" alt="" height="100px"/>
          </div>
          <div class="form-floating mb-3">
            <input
              type="file"
              class="form-control"
              id="image"
              name="image"
              placeholder="Enter url of image"
            />
            <label for="image" class="form-label">Upload new image</label>
          </div>
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="price"
              name="price"
              placeholder="price"
              value="<%=service.price%>"
              required
            />
            <label for="price" class="form-label">price:</label>
            <div class="invalid-feedback">enter price of the service.</div>
          </div>

          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              id="location"
              name="location"
              placeholder="enter the location"
              value="<%=service.location%>"
              required
            />
            <label for="location" class="form-label">location:</label>
            <div class="invalid-feedback">
              enter a location for the service.
            </div>
          </div>
          <div class="form-floating mb-3">
            <select
              class="form-control"
              id="category"
              name="category"
              required
            >
              <option value="">Select a category</option>
              <option value="Home Repair" <%= service.category === 'Home Repair' ? 'selected' : '' %>>Home Repair</option>
              <option value="Cleaning" <%= service.category === 'Cleaning' ? 'selected' : '' %>>Cleaning</option>
              <option value="Appliance Repair" <%= service.category === 'Appliance Repair' ? 'selected' : '' %>>Appliance Repair</option>
              <option value="Tailoring" <%= service.category === 'Tailoring' ? 'selected' : '' %>>Tailoring</option>
              <option value="Electronics Repair" <%= service.category === 'Electronics Repair' ? 'selected' : '' %>>Electronics Repair</option>
              <option value="Automotive" <%= service.category === 'Automotive' ? 'selected' : '' %>>Automotive</option>
              <option value="Security" <%= service.category === 'Security' ? 'selected' : '' %>>Security</option>
              <option value="Education" <%= service.category === 'Education' ? 'selected' : '' %>>Education</option>
              <option value="Gardening" <%= service.category === 'Gardening' ? 'selected' : '' %>>Gardening</option>
            </select>
            <label for="category" class="form-label">category:</label>
            <div class="invalid-feedback">select a category for the service.</div>
          </div>
          <button>edit details</button>
        </form>
      </div>
    </div>
  </div>
</body>
